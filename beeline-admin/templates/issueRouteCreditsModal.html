<div class="issue-ticket-popup">
  <div class="modal-header">
    <h3>Issue Free Credits</h3>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-sm-12">
        <form class="form-horizontal" name="issueRouteCreditsForm">
          <div class="form-group">
            <label class="col-sm-2 control-label">Issue For: </label>
            <div class="col-sm-10">
              <select class="form-control" ng-model="data.tag" required>
                <option value="{{tag}}" ng-repeat="tag in data.tags">{{tag}}</option>
              </select>
              <!-- <input type="text" name="tag" class="form-control" ng-repeat="tag in tags"> -->
              <!-- <input type="string" name="tag" placeholder="creditTag" class="form-control" ng-model="data.tag"> -->
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">Issue To: </label>
            <div class="col-sm-4" hidden>
              <input type="text" name="userId" class="form-control" placeholder="userId" ng-model="data.user.id" hidden>
            </div>
            <div class="col-sm-10">
              <p class="form-control-static">{{ data.user.name || 'no name' }} - (tel: {{ data.user.telephone || '-' }}; email: {{ data.user.email || '-' }})</p>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label"># of Trips: </label>
            <div class="col-sm-4">
              <input type="number" name="rides" class="form-control" min="1" ng-model="data.numPasses">
            </div>
            <label class="col-sm-2 control-label">Credits: </label>
            <div class="col-sm-4">
              <div class="input-group">
                <span class="input-group-addon">$</span>
                <input type="number" step="0.01" name="price" class="form-control" ng-model="data.creditAmt" readonly>
              </div>
            </div>
          </div>
          <div class="form-group" ng-if="data.ticket && data.ticket.status === 'valid'">
            <div class="col-sm-offset-2 col-sm-10">
              <div class="checkbox" >
                <label><input type="checkbox" name="voidTicket" ng-model="data.refundTicket">Void the ticket</label>
              </div>
            </div>
          </div>
          <div class="form-group">
          <label class="col-sm-2">Description: </label>
            <div class="col-sm-10">
              <textarea type="text" name="description" class="form-control" ng-model="data.description" placeholder="Please enter a description" required></textarea>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <div class="row">
      <div class="col-sm-12">
        <button class="btn btn-default" ng-click="$close(null)">
          Cancel
        </button>
        <button class="btn btn-primary" ng-click="$close(data)" ng-disabled="issueRouteCreditsForm.$invalid">
          Issue Credits
        </button>
      </div>
    </div>
  </div>
</div>
